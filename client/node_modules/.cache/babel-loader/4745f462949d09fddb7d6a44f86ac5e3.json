{"ast":null,"code":"import { FETCH_COLLECTIONS_START, FETCH_COLLECTIONS_SUCCESS, FETCH_COLLECTIONS_ERROR } from './shopActionTypes';\nimport { firestore, mapCollectionsSnapshotsToNew } from '../../firebase/firebase.utils';\nexport const fetchCollectionsStart = () => ({\n  type: FETCH_COLLECTIONS_START\n});\nexport const fetchCollectionsError = errorMessage => ({\n  type: FETCH_COLLECTIONS_ERROR,\n  payload: errorMessage\n});\nexport const fetchCollectionsSuccess = collections => ({\n  type: FETCH_COLLECTIONS_SUCCESS,\n  payload: collections\n});\nexport const fetchCollectionsStartAsync = () => {\n  return dispatch => {\n    const collectionRef = firestore.collection('collections');\n    dispatch(fetchCollectionsStart());\n    collectionRef.get().then(snapshot => {\n      const collectionsMap = mapCollectionsSnapshotsToNew(snapshot);\n      dispatch(fetchCollectionsSuccess(collectionsMap));\n    }).catch(error => dispatch(fetchCollectionsError(error.message)));\n  };\n};","map":{"version":3,"sources":["C:/Users/moham/OneDrive/Desktop/code_along/e-commerce/clothing-club/src/Redux/shop/shopActions.js"],"names":["FETCH_COLLECTIONS_START","FETCH_COLLECTIONS_SUCCESS","FETCH_COLLECTIONS_ERROR","firestore","mapCollectionsSnapshotsToNew","fetchCollectionsStart","type","fetchCollectionsError","errorMessage","payload","fetchCollectionsSuccess","collections","fetchCollectionsStartAsync","dispatch","collectionRef","collection","get","then","snapshot","collectionsMap","catch","error","message"],"mappings":"AAAA,SAASA,uBAAT,EAAkCC,yBAAlC,EAA6DC,uBAA7D,QAA4F,mBAA5F;AACA,SAASC,SAAT,EAAoBC,4BAApB,QAAwD,+BAAxD;AAGA,OAAO,MAAMC,qBAAqB,GAAG,OAAO;AAC1CC,EAAAA,IAAI,EAAEN;AADoC,CAAP,CAA9B;AAIP,OAAO,MAAMO,qBAAqB,GAAGC,YAAY,KAAK;AACpDF,EAAAA,IAAI,EAAEJ,uBAD8C;AAEpDO,EAAAA,OAAO,EAAED;AAF2C,CAAL,CAA1C;AAKP,OAAO,MAAME,uBAAuB,GAAGC,WAAW,KAAK;AACrDL,EAAAA,IAAI,EAAEL,yBAD+C;AAErDQ,EAAAA,OAAO,EAAEE;AAF4C,CAAL,CAA3C;AAKP,OAAO,MAAMC,0BAA0B,GAAG,MAAM;AAC9C,SAAOC,QAAQ,IAAI;AACjB,UAAMC,aAAa,GAAGX,SAAS,CAACY,UAAV,CAAqB,aAArB,CAAtB;AAEAF,IAAAA,QAAQ,CAACR,qBAAqB,EAAtB,CAAR;AAEAS,IAAAA,aAAa,CACVE,GADH,GAEGC,IAFH,CAEQC,QAAQ,IAAI;AAClB,YAAMC,cAAc,GAAGf,4BAA4B,CAACc,QAAD,CAAnD;AACAL,MAAAA,QAAQ,CAACH,uBAAuB,CAACS,cAAD,CAAxB,CAAR;AACC,KALH,EAMGC,KANH,CAMSC,KAAK,IAAIR,QAAQ,CAACN,qBAAqB,CAACc,KAAK,CAACC,OAAP,CAAtB,CAN1B;AAOD,GAZD;AAaD,CAdM","sourcesContent":["import { FETCH_COLLECTIONS_START, FETCH_COLLECTIONS_SUCCESS, FETCH_COLLECTIONS_ERROR } from './shopActionTypes';\r\nimport { firestore, mapCollectionsSnapshotsToNew } from '../../firebase/firebase.utils'\r\n\r\n\r\nexport const fetchCollectionsStart = () => ({\r\n  type: FETCH_COLLECTIONS_START\r\n})\r\n\r\nexport const fetchCollectionsError = errorMessage => ({\r\n  type: FETCH_COLLECTIONS_ERROR,\r\n  payload: errorMessage\r\n})\r\n\r\nexport const fetchCollectionsSuccess = collections => ({\r\n  type: FETCH_COLLECTIONS_SUCCESS,\r\n  payload: collections\r\n})\r\n\r\nexport const fetchCollectionsStartAsync = () => {\r\n  return dispatch => {\r\n    const collectionRef = firestore.collection('collections');\r\n    \r\n    dispatch(fetchCollectionsStart());\r\n\r\n    collectionRef\r\n      .get()\r\n      .then(snapshot => {\r\n      const collectionsMap = mapCollectionsSnapshotsToNew(snapshot);\r\n      dispatch(fetchCollectionsSuccess(collectionsMap));\r\n      })\r\n      .catch(error => dispatch(fetchCollectionsError(error.message)))\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}